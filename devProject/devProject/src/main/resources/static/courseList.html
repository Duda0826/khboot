<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>과목 정보 조회</title>
</head>
<body>
<button type="button" id="courseAllListBtn">학과 정보 조회</button>
<section>
    <table>
        <thead>
        <tr>
            <th>번호</th>
            <th>과목번호</th>
            <th>과목명</th>
            <th>학점</th>
            <th>구분</th>
        </tr>
        </thead>
        <tbody id="courseList">


        </tbody>
    </table>
</section>

<script>
    document.getElementById("courseAllListBtn").addEventListener("click", function() {
        fetch("/course/courseAllList")
        .then(response => response.json())
        .then(data => {
        let courseList = document.getElementById("courseList");
        courseList.textContent = "";

        if(data.length === 0) {
        courseList.textContent = "<tr><td colspan='3'>등록된 과목 정보가 존재하지 않습니다. </td></tr>"
        }else {
        data.forEach((course) => {
        const tr = document.createElement("tr");

        const tdNo = document.createElement("td");
        tdNo.textContent = course.no;

        const tdsNum = document.createElement("td");
        tdsNum.textContent = course.cnum;

        const tdsName = document.createElement("td");
        tdsName.textContent = course.cname;

        const tdsCredit = document.createElement("td");
        tdsCredit.textContent = course.ccredit;

        const tdsSection = document.createElement("td");
        tdsSection.textContent = course.csection;

        tr.appendChild(tdNo);
        tr.appendChild(tdsNum);
        tr.appendChild(tdsName);
        tr.appendChild(tdsCredit);
        tr.appendChild(tdsSection);

        courseList.appendChild(tr);
        })
       }
       })
       .catch(error => console.error('Error', error));
    });
</script>
</body>
</html>